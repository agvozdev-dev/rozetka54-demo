{"version":3,"file":"component---src-pages-gallery-tsx-de389f0e9a096a732eb7.js","mappings":"0QAWA,SAASA,EAASC,GAChB,IAAMC,EAAWD,EAAMC,UAAY,kBAYnC,OAVAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAOH,EAAMI,SAAW,GAI9B,OAFAC,EAAAA,GAAAA,KAAoBJ,EAAUE,GAEvB,WACLE,EAAAA,GAAAA,aAED,IAEIC,EAAAA,cAAAA,EAAAA,SAAAA,KAAGN,EAAMO,UAGlB,IAoEaC,EAAG,aC7FhB,EDyBqB,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAClBC,GAAQC,EAAAA,EAAAA,gBAAeH,GAAKI,OAAOF,MACnCD,IACFC,EAAQA,EAAMG,QAAO,SAACC,GAAD,OAAeA,EAAKC,KAAKC,YAAYC,WAAaR,MAGzE,IAAML,EAAU,CACdc,QAAQ,EACRC,SAAS,EACTC,MAAO,CACLC,MAAM,EACNC,OAAO,EACPC,MAAO,UAIX,OACEjB,EAAAA,cAAAA,UAAAA,CAASkB,UAAU,WACjBlB,EAAAA,cAACmB,EAAAA,EAAD,KACEnB,EAAAA,cAACoB,EAAAA,EAAD,CACEC,MAAM,wBACNC,SAAS,wBACTC,iBAAkB,CAAC,YAErBvB,EAAAA,cAAAA,KAAAA,CAAIkB,UAAU,iBACXd,EAAMoB,KAAI,SAAChB,EAAWiB,GAAZ,OACPzB,EAAAA,cAAAA,KAAAA,CAAIkB,UAAU,gBAAgBQ,IAAG,iBAAmBD,GAClDzB,EAAAA,cAACP,EAAD,CAAUK,QAASA,GAChBU,EAAKC,KAAKC,YAAYiB,OAAOH,KAAI,SAACI,EAAYC,GAC7C,IAAMC,EAAwB,IAAfD,EAAmB,2BAA6B,GACzDE,EAAUC,IAAW,mBAAoBF,GAC/C,OACE9B,EAAAA,cAAAA,MAAAA,CAAKkB,UAAWa,GACd/B,EAAAA,cAACiC,EAAAA,EAAD,CAAaf,UAAU,yBACVQ,IAAG,kBAAoBG,EACvBK,IAAK1B,EAAKC,KAAKC,YAAYyB,UAC3BP,OAAOQ,EAAAA,EAAAA,GAASR,GAChB,2BAA0BH,IACvCzB,EAAAA,cAAAA,MAAAA,CAAKkB,UAAU,wBACblB,EAAAA,cAACqC,EAAAA,EAAD,CACEnB,UAAU,iBACVoB,KAAI,WAAa9B,EAAKC,KAAKC,YAAY6B,SACvCC,YAAa,CAAChC,EAAKC,KAAKC,YAAY6B,YAGtCvC,EAAAA,cAAAA,IAAAA,CAAGkB,UAAU,iBACVV,EAAKC,KAAKC,YAAY+B,aAEzBzC,EAAAA,cAACqC,EAAAA,EAAD,CACEnB,UAAU,gBACVoB,KAAI,gBAAkB9B,EAAKC,KAAKC,YAAYgC,KAC5CF,YAAa,CAAChC,EAAKC,KAAKC,YAAYgC,uB,mEE5EhE,ECK4C,SAAC,GAAc,IAAZJ,EAAW,EAAXA,KAC7C,OACItC,EAAAA,cAAAA,MAAAA,CAAKkB,UAAU,UACblB,EAAAA,cAAAA,IAAAA,CAAGkB,UAAU,gBAAgBoB,M,4FCiBrC,UAnBoB,WAClB,OACEtC,EAAAA,cAAC2C,EAAAA,EAAD,CAAQC,UAAU,WAChB5C,EAAAA,cAAAA,UAAAA,CAASkB,UAAU,iBACjBlB,EAAAA,cAAC6C,EAAAA,EAAD,CAAWP,KAAK,YAChBtC,EAAAA,cAACmB,EAAAA,EAAD,KACEnB,EAAAA,cAAAA,IAAAA,CAAGkB,UAAU,uBAAb,mKAIAlB,EAAAA,cAAC8C,EAAAA,EAAD,OAEF9C,EAAAA,cAAC+C,EAAAA,EAAD","sources":["webpack://gatsby-starter-hello-world/./src/components/shared/ImageGallery/ImageGallery.tsx","webpack://gatsby-starter-hello-world/./src/components/shared/ImageGallery/index.ts","webpack://gatsby-starter-hello-world/./src/components/shared/PageTitle/index.ts","webpack://gatsby-starter-hello-world/./src/components/shared/PageTitle/PageTitle.tsx","webpack://gatsby-starter-hello-world/./src/pages/gallery.tsx"],"sourcesContent":["import React, {useEffect} from 'react'\nimport './style.scss'\nimport {Fancybox as NativeFancybox} from '@fancyapps/ui/dist/fancybox.esm.js'\nimport \"@fancyapps/ui/dist/fancybox.css\";\nimport {graphql, useStaticQuery} from \"gatsby\";\nimport {GatsbyImage, getImage} from \"gatsby-plugin-image\";\nimport classNames from \"classnames\";\nimport Container from \"/components/shared/Container\";\nimport HighlighterText from \"/components/shared/HighlighterText\";\nimport Title from \"/components/shared/Title\";\n\nfunction Fancybox(props: any) {\n  const delegate = props.delegate || \"[data-fancybox]\";\n\n  useEffect(() => {\n    const opts = props.options || {};\n\n    NativeFancybox.bind(delegate, opts);\n\n    return () => {\n      NativeFancybox.destroy();\n    };\n  }, []);\n\n  return <>{props.children}</>;\n}\n\nconst ImageGallery = ({ page }) => {\n  let edges = useStaticQuery(all).allMdx.edges\n  if (page) {\n    edges = edges.filter((edge: any) => edge.node.frontmatter.for_page === page)\n  }\n\n  const options = {\n    Thumbs: false,\n    Toolbar: false,\n    Image: {\n      zoom: false,\n      click: false,\n      wheel: \"slide\",\n    }\n  }\n\n  return (\n    <section className=\"gallery\">\n      <Container>\n        <Title\n          title=\"Наши последние работы\"\n          subtitle=\"Работаем на результат\"\n          titleSearchWords={['работы']}\n        />\n        <ul className='gallery__list'>\n          {edges.map((edge: any, edgeIndex: number) => (\n              <li className='gallery__item' key={`gallery__item-${edgeIndex}`}>\n                <Fancybox options={options}>\n                  {edge.node.frontmatter.images.map((image: any, imageIndex: number) => {\n                    const hidden = imageIndex !== 0 ? \"gallery__content--hidden\" : \"\"\n                    const classes = classNames(\"gallery__content\", hidden)\n                    return (\n                      <div className={classes}>\n                        <GatsbyImage className=\"gallery__image rounded\"\n                                     key={`gallery__image-${imageIndex}`}\n                                     alt={edge.node.frontmatter.image_alt}\n                                     image={getImage(image)}\n                                     data-fancybox={`gallery-${edgeIndex}`}/>\n                        <div className='gallery__description'>\n                          <HighlighterText\n                            className=\"gallery__title\"\n                            text={`Объект: ${edge.node.frontmatter.facility}`}\n                            searchWords={[edge.node.frontmatter.facility]}\n                          />\n\n                          <p className='gallery__text'>\n                            {edge.node.frontmatter.description}\n                          </p>\n                          <HighlighterText\n                            className=\"gallery__date\"\n                            text={`Объект сдан: ${edge.node.frontmatter.date}`}\n                            searchWords={[edge.node.frontmatter.date]}\n                          />\n                        </div>\n                      </div>\n                    )\n                  })}\n                </Fancybox>\n              </li>\n            )\n          )}\n        </ul>\n      </Container>\n    </section>\n\n  )\n}\n\nexport const all = graphql`\nquery GalleryBySlug {\n  allMdx(filter: {frontmatter: {type: {eq: \"examples-of-work\"}}}\n  sort: {\n          fields: [frontmatter___sort]\n          order: DESC\n        }\n  ) {\n    edges {\n      node {\n        frontmatter {\n          date\n          description\n          facility\n          image_alt\n          for_page\n          images {\n            childImageSharp {\n              gatsbyImageData\n            }\n          }\n        }\n      }\n    }\n  }\n}\n`\n\nexport default ImageGallery\n\n\n{/*{edges.map((edge: any, index: number) => {*/\n}\n{/*  return (*/\n}\n{/*    // <div*/\n}\n{/*    //   data-caption={edge.node.frontmatter.description}*/\n}\n{/*    //   data-fancybox=\"gallery\"*/\n}\n{/*    // >*/\n}\n{/*    //   <img className=\"rounded\" src=\"https://lipsum.app/id/1/200x150\"/>*/\n}\n{/*    // </div>*/\n}\n{/*  //<GatsbyImage className=\"temp rounded\" alt={edge.node.frontmatter.image_alt} image={getImage(edge.node.frontmatter.images[0])} data-caption={edge.node.frontmatter.description} data-fancybox=\"gallery\" />*/\n}\n{/*  // <li className=\"partners__item\" key={`partners__item-${index}`}>*/\n}\n{/*  //   <GatsbyImage alt='Логотип партнера' image={getImage(edge.node)}/>*/\n}\n{/*  // </li>*/\n}\n{/*  )*/\n}\n{/*})}*/\n}\n\n{/*<a*/\n}\n{/*  data-caption=\"Vestibulum lobortis ultricies ipsum, a maximus ligula dignissim in. Sed consectetur tellus egestas, consequat dolor at, tempus augue. \"*/\n}\n{/*  data-fancybox=\"gallery\"*/\n}\n{/*  href=\"https://lipsum.app/id/1/800x450\"*/\n}\n{/*>*/\n}\n{/*  <img className=\"rounded\" src=\"https://lipsum.app/id/1/200x150\"/>*/\n}\n{/*</a>*/\n}\n{/*<a*/\n}\n{/*  className=\"hidable\"*/\n}\n{/*  data-caption=\"Short caption\"*/\n}\n{/*  data-fancybox=\"gallery\"*/\n}\n{/*  href=\"https://lipsum.app/id/2/800x450\"*/\n}\n{/*>*/\n}\n{/*  <img className=\"rounded\" src=\"https://lipsum.app/id/2/200x150\"/>*/\n}\n{/*</a>*/\n}\n{/*<a*/\n}\n{/*  className=\"hidable\"*/\n}\n{/*  data-caption=\"\"*/\n}\n{/*  data-fancybox=\"gallery\"*/\n}\n{/*  href=\"https://lipsum.app/id/3/800x450\"*/\n}\n{/*>*/\n}\n{/*  <img className=\"rounded\" src=\"https://lipsum.app/id/3/200x150\"/>*/\n}\n{/*</a>*/\n}\n{/*<a*/\n}\n{/*  className=\"hidable\"*/\n}\n{/*  data-caption=\"\"*/\n}\n{/*  data-fancybox=\"gallery\"*/\n}\n{/*  href=\"https://lipsum.app/id/4/800x450\"*/\n}\n{/*>*/\n}\n{/*  <img src=\"https://lipsum.app/id/4/200x150\"/>*/\n}\n{/*</a>*/\n}\n{/*<a*/\n}\n{/*  className=\"hidable\"*/\n}\n{/*  data-caption=\"\"*/\n}\n{/*  data-fancybox=\"gallery\"*/\n}\n{/*  href=\"https://lipsum.app/id/5/800x450\"*/\n}\n{/*>*/\n}\n{/*  <img className=\"rounded\" src=\"https://lipsum.app/id/5/200x150\"/>*/\n}\n{/*</a>*/\n}\n{/*<a*/\n}\n{/*  className=\"hidable\"*/\n}\n{/*  data-caption=\"\"*/\n}\n{/*  data-fancybox=\"gallery\"*/\n}\n{/*  href=\"https://lipsum.app/id/6/800x450\"*/\n}\n{/*>*/\n}\n{/*  <img className=\"rounded\" src=\"https://lipsum.app/id/6/200x150\"/>*/\n}\n{/*</a>*/\n}\n{/*<a*/\n}\n{/*  className=\"hidable\"*/\n}\n{/*  data-caption=\"\"*/\n}\n{/*  data-fancybox=\"gallery\"*/\n}\n{/*  href=\"https://lipsum.app/id/7/800x450\"*/\n}\n{/*>*/\n}\n{/*  <img className=\"rounded\" src=\"https://lipsum.app/id/7/200x150\"/>*/\n}\n{/*</a>*/\n}","import ImageGallery from \"./ImageGallery\";\n\nexport default ImageGallery","import PageTitle from \"./PageTitle\";\n\nexport default PageTitle","import * as React from 'react'\nimport './styles.scss'\n\ntype PageTitleProps = {\n  text: string\n}\n\nconst PageTitle: React.FC<PageTitleProps> = ({ text }) => {\n  return (\n      <div className=\"banner\">\n        <p className=\"banner__text\">{text}</p>\n      </div>\n  )\n}\n\nexport default PageTitle\n","import * as React from 'react'\nimport Layout from 'components/shared/Layout'\nimport Container from \"../components/shared/Container\";\nimport ImageGallery from \"../components/shared/ImageGallery\";\nimport Contacts from \"../components/shared/Contacts\";\nimport PageTitle from \"../components/shared/PageTitle\";\n\n// @ts-ignore\nconst GalleryPage = () => {\n  return (\n    <Layout pageTitle=\"Галерея\">\n      <section className=\"image-gallery\">\n        <PageTitle text=\"Галерея\"/>\n        <Container>\n          <p className=\"image-gallery__text\">\n            Предоставляем вашему вниманию наши последние сданные объекты. Мы работаем в новостройках,\n            вторичных квартирах, жилых домах и в больших промышленных помещениях.\n          </p>\n          <ImageGallery/>\n        </Container>\n        <Contacts/>\n\n      </section>\n    </Layout>\n  )\n}\n\nexport default GalleryPage\n"],"names":["Fancybox","props","delegate","useEffect","opts","options","NativeFancybox","React","children","all","page","edges","useStaticQuery","allMdx","filter","edge","node","frontmatter","for_page","Thumbs","Toolbar","Image","zoom","click","wheel","className","Container","Title","title","subtitle","titleSearchWords","map","edgeIndex","key","images","image","imageIndex","hidden","classes","classNames","GatsbyImage","alt","image_alt","getImage","HighlighterText","text","facility","searchWords","description","date","Layout","pageTitle","PageTitle","ImageGallery","Contacts"],"sourceRoot":""}